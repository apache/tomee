<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<ns7:ejb-jar xmlns="http://geronimo.apache.org/xml/ns/deployment-1.2" xmlns:ns2="http://geronimo.apache.org/xml/ns/naming-1.2" xmlns:ns3="http://openejb.apache.org/xml/ns/openejb-jar-2.2" xmlns:ns4="http://geronimo.apache.org/xml/ns/j2ee/application-1.2" xmlns:ns5="http://java.sun.com/xml/ns/persistence" xmlns:ns6="http://openejb.apache.org/xml/ns/pkgen-2.1" xmlns:ns7="http://geronimo.apache.org/xml/ns/j2ee/ejb/openejb-2.0">
    <environment>
        <moduleId>
            <groupId>itests</groupId>
            <artifactId>itests</artifactId>
            <version>1</version>
            <type>car</type>
        </moduleId>
        <dependencies>
            <dependency>
                <groupId>commons-lang</groupId>
                <artifactId>commons-lang</artifactId>
                <version>2.0</version>
            </dependency>
            <dependency>
                <groupId>junit</groupId>
                <artifactId>junit</artifactId>
                <version>3.8.1</version>
            </dependency>
            <dependency>
                <groupId>org.apache.geronimo.configs</groupId>
                <artifactId>system-database</artifactId>
                <type>car</type>
            </dependency>
        </dependencies>
    </environment>
    <ns2:persistence-unit-ref>
        <ns2:persistence-unit-ref-name>persistence/TestUnit</ns2:persistence-unit-ref-name>
        <ns2:persistence-unit-name>openjpa-test-unit</ns2:persistence-unit-name>
    </ns2:persistence-unit-ref>
    <ns2:persistence-context-ref>
        <ns2:persistence-context-ref-name>persistence/TestContext</ns2:persistence-context-ref-name>
        <ns2:persistence-unit-name>openjpa-test-unit</ns2:persistence-unit-name>
    </ns2:persistence-context-ref>
    <ns2:persistence-context-ref>
        <ns2:persistence-context-ref-name>persistence/ExtendedTestContext</ns2:persistence-context-ref-name>
        <ns2:persistence-unit-name>openjpa-test-unit</ns2:persistence-unit-name>
    </ns2:persistence-context-ref>
    <ns2:persistence-context-ref>
        <ns2:persistence-context-ref-name>openejb/cmp</ns2:persistence-context-ref-name>
        <ns2:persistence-unit-name>cmp</ns2:persistence-unit-name>
    </ns2:persistence-context-ref>
    <ns2:resource-ref>
        <ns2:ref-name>database</ns2:ref-name>
        <ns2:pattern>
            <ns2:groupId>org.apache.geronimo.configs</ns2:groupId>
            <ns2:artifactId>system-database</ns2:artifactId>
            <ns2:name>SystemDatasource</ns2:name>
        </ns2:pattern>
    </ns2:resource-ref>
    <ns2:resource-ref>
        <ns2:ref-name>datasource</ns2:ref-name>
        <ns2:pattern>
            <ns2:groupId>org.apache.geronimo.configs</ns2:groupId>
            <ns2:artifactId>system-database</ns2:artifactId>
            <ns2:name>SystemDatasource</ns2:name>
        </ns2:pattern>
    </ns2:resource-ref>
    <ns2:resource-ref>
        <ns2:ref-name>jdbc/basic/entityDatabase</ns2:ref-name>
        <ns2:pattern>
            <ns2:groupId>org.apache.geronimo.configs</ns2:groupId>
            <ns2:artifactId>system-database</ns2:artifactId>
            <ns2:name>SystemDatasource</ns2:name>
        </ns2:pattern>
    </ns2:resource-ref>
    <ns2:resource-ref>
        <ns2:ref-name>stateless/references/Resource_manager_access</ns2:ref-name>
        <ns2:pattern>
            <ns2:groupId>org.apache.geronimo.configs</ns2:groupId>
            <ns2:artifactId>system-database</ns2:artifactId>
            <ns2:name>SystemDatasource</ns2:name>
        </ns2:pattern>
    </ns2:resource-ref>
    <ns2:resource-ref>
        <ns2:ref-name>org.apache.openejb.test.stateless.AnnotatedFieldInjectionStatelessBean/daataSource</ns2:ref-name>
        <ns2:pattern>
            <ns2:groupId>org.apache.geronimo.configs</ns2:groupId>
            <ns2:artifactId>system-database</ns2:artifactId>
            <ns2:name>SystemDatasource</ns2:name>
        </ns2:pattern>
    </ns2:resource-ref>
    <ns2:resource-ref>
        <ns2:ref-name>org.apache.openejb.test.stateful.AnnotatedFieldInjectionStatefulBean/daataSource</ns2:ref-name>
        <ns2:pattern>
            <ns2:groupId>org.apache.geronimo.configs</ns2:groupId>
            <ns2:artifactId>system-database</ns2:artifactId>
            <ns2:name>SystemDatasource</ns2:name>
        </ns2:pattern>
    </ns2:resource-ref>
    <ns5:persistence version="1.0">
        <ns5:persistence-unit transaction-type="JTA" name="cmp">
            <ns5:provider>org.apache.openjpa.persistence.PersistenceProviderImpl</ns5:provider>
            <ns5:jta-data-source>?name=SystemDatasource</ns5:jta-data-source>
            <ns5:non-jta-data-source>?name=NoTxDatasource</ns5:non-jta-data-source>
            <ns5:mapping-file>META-INF/jpa.mapping.xml</ns5:mapping-file>
            <ns5:class>org.apache.openejb.test.entity.cmp.BasicCmpBean</ns5:class>
            <ns5:exclude-unlisted-classes>false</ns5:exclude-unlisted-classes>
        </ns5:persistence-unit>
        <ns5:persistence-unit transaction-type="JTA" name="openjpa-test-unit">
            <ns5:provider>org.apache.openjpa.persistence.PersistenceProviderImpl</ns5:provider>
            <ns5:jta-data-source>?name=SystemDatasource</ns5:jta-data-source>
            <ns5:non-jta-data-source>?name=NoTxDatasource</ns5:non-jta-data-source>
            <ns5:class>org.apache.openejb.test.entity.Customer</ns5:class>
        </ns5:persistence-unit>
    </ns5:persistence>
</ns7:ejb-jar>
