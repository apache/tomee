<?xml version="1.0"?>
<!--

    Licensed to the Apache Software Foundation (ASF) under one or more
    contributor license agreements.  See the NOTICE file distributed with
    this work for additional information regarding copyright ownership.
    The ASF licenses this file to You under the Apache License, Version 2.0
    (the "License"); you may not use this file except in compliance with
    the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.

-->

<!-- $Rev: 532172 $ $Date: 2007-04-25 04:27:22 +0200 (Wed, 25 Apr 2007) $ -->

<openejb-jar xmlns="http://openejb.apache.org/xml/ns/openejb-jar-2.2"
  xmlns:naming="http://geronimo.apache.org/xml/ns/naming-1.2"
 xmlns:sys="http://geronimo.apache.org/xml/ns/deployment-1.2">
    <!--xmlns:pkgen="http://openejb.apache.org/xml/ns/pkgen-2.1"-->

    <environment>
        <moduleId>
            <groupId>org.apache.openejb</groupId>
            <artifactId>openejb-itests-core</artifactId>
            <version>${openejbVersion}</version>
            <type>car</type>
        </moduleId>

        <dependencies>
          <dependency>
              <groupId>org.apache.geronimo.configs</groupId>
              <artifactId>j2ee-corba-yoko</artifactId>
              <version>${version}</version>
              <type>car</type>
          </dependency>
            <dependency>
                <groupId>org.apache.geronimo.configs</groupId>
                <artifactId>system-database</artifactId>
                <version>${version}</version>
                <type>car</type>
            </dependency>
            <dependency>
                <groupId>junit</groupId>
                <artifactId>junit</artifactId>
            </dependency>
        </dependencies>
    </environment>

    <cmp-connection-factory>
        <resource-link>SystemDatasource</resource-link>
    </cmp-connection-factory>

    <enterprise-beans>
        <session>
            <ejb-name>BasicStatelessBean</ejb-name>
            <jndi-name>client/tests/stateless/BasicStatelessHome</jndi-name>
            <resource-ref>
                <ref-name>stateless/references/Resource_manager_access</ref-name>
                <pattern>
                    <groupId>org.apache.geronimo.configs</groupId>
                    <artifactId>system-database</artifactId>
                    <version>${version}</version>
                    <name>SystemDatasource</name>
                </pattern>
            </resource-ref>
        </session>
        <session>
            <ejb-name>BasicBMTStatelessBean</ejb-name>
            <jndi-name>client/tests/stateless/BeanManagedBasicStatelessHome</jndi-name>
            <resource-ref>
                <ref-name>stateless/references/Resource_manager_access</ref-name>
                <pattern>
                    <groupId>org.apache.geronimo.configs</groupId>
                    <artifactId>system-database</artifactId>
                    <version>${version}</version>
                    <name>SystemDatasource</name>
                </pattern>
            </resource-ref>
        </session>
        <session>
            <ejb-name>DatabaseBean</ejb-name>
            <jndi-name>client/tools/DatabaseHome</jndi-name>
            <resource-ref>
                <ref-name>database</ref-name>
                <pattern>
                    <groupId>org.apache.geronimo.configs</groupId>
                    <artifactId>system-database</artifactId>
                    <version>${version}</version>
                    <name>SystemDatasource</name>
                </pattern>
            </resource-ref>
        </session>
        <session>
            <ejb-name>BMTStatelessBean</ejb-name>
            <jndi-name>client/tests/stateless/BeanManagedTransactionTests/EJBHome</jndi-name>
            <resource-ref>
                <ref-name>database</ref-name>
                <pattern>
                    <groupId>org.apache.geronimo.configs</groupId>
                    <artifactId>system-database</artifactId>
                    <version>${version}</version>
                    <name>SystemDatasource</name>
                </pattern>
            </resource-ref>
        </session>
        <session>
            <ejb-name>EncStatelessBean</ejb-name>
            <jndi-name>client/tests/stateless/EncBean</jndi-name>
            <resource-ref>
                <ref-name>datasource</ref-name>
                <pattern>
                    <groupId>org.apache.geronimo.configs</groupId>
                    <artifactId>system-database</artifactId>
                    <version>${version}</version>
                    <name>SystemDatasource</name>
                </pattern>
            </resource-ref>
        </session>
        <session>
            <ejb-name>StatelessRMIIIOPBean</ejb-name>
            <jndi-name>client/tests/stateless/RMI-over-IIOP/EJBHome</jndi-name>
        </session>
        <session>
            <ejb-name>BasicStatelessBean</ejb-name>
            <jndi-name>client/tests/stateless/BasicStatelessHome</jndi-name>
            <resource-ref>
                <ref-name>stateless/references/Resource_manager_access</ref-name>
                <pattern>
                    <groupId>org.apache.geronimo.configs</groupId>
                    <artifactId>system-database</artifactId>
                    <version>${version}</version>
                    <name>SystemDatasource</name>
                </pattern>
            </resource-ref>
        </session>
        <session>
            <ejb-name>SessionFacadeBean</ejb-name>
            <jndi-name>client/tests/entity/cmp/SessionFacadeBean</jndi-name>
        </session>
        <session>
            <ejb-name>BasicStatefulBean</ejb-name>
            <jndi-name>client/tests/stateful/BasicStatefulHome</jndi-name>
            <resource-ref>
                <ref-name>stateful/references/Resource_manager_access</ref-name>
                <pattern>
                    <groupId>org.apache.geronimo.configs</groupId>
                    <artifactId>system-database</artifactId>
                    <version>${version}</version>
                    <name>SystemDatasource</name>
                </pattern>
            </resource-ref>
        </session>
        <session>
            <ejb-name>BasicBMTStatefulBean</ejb-name>
            <jndi-name>client/tests/stateful/BeanManagedBasicStatefulHome</jndi-name>
            <resource-ref>
                <ref-name>stateful/references/Resource_manager_access</ref-name>
                <pattern>
                    <groupId>org.apache.geronimo.configs</groupId>
                    <artifactId>system-database</artifactId>
                    <version>${version}</version>
                    <name>SystemDatasource</name>
                </pattern>
            </resource-ref>
        </session>
        <session>
            <ejb-name>BMTStatefulBean</ejb-name>
            <jndi-name>client/tests/stateful/BeanManagedTransactionTests/EJBHome</jndi-name>
            <resource-ref>
                <ref-name>datasource</ref-name>
                <pattern>
                    <groupId>org.apache.geronimo.configs</groupId>
                    <artifactId>system-database</artifactId>
                    <version>${version}</version>
                    <name>SystemDatasource</name>
                </pattern>
            </resource-ref>
        </session>
        <session>
            <ejb-name>EncStatefulBean</ejb-name>
            <jndi-name>client/tests/stateful/EncBean</jndi-name>
            <resource-ref>
                <ref-name>datasource</ref-name>
                <pattern>
                    <groupId>org.apache.geronimo.configs</groupId>
                    <artifactId>system-database</artifactId>
                    <version>${version}</version>
                    <name>SystemDatasource</name>
                </pattern>
            </resource-ref>
        </session>
        <session>
            <ejb-name>StatefulRMIIIOPBean</ejb-name>
            <jndi-name>client/tests/stateful/RMI-over-IIOP/EJBHome</jndi-name>
        </session>
        <entity>
            <ejb-name>BasicBmpBean</ejb-name>
            <jndi-name>client/tests/entity/bmp/BasicBmpHome</jndi-name>
            <resource-ref>
                <ref-name>jdbc/basic/entityDatabase</ref-name>
                <pattern>
                    <groupId>org.apache.geronimo.configs</groupId>
                    <artifactId>system-database</artifactId>
                    <version>${version}</version>
                    <name>SystemDatasource</name>
                </pattern>
            </resource-ref>
        </entity>
        <entity>
            <ejb-name>AOBasicBmpBean</ejb-name>
            <jndi-name>client/tests/entity/bmp/allowed_operations/EntityHome</jndi-name>
            <resource-ref>
                <ref-name>jdbc/basic/entityDatabase</ref-name>
                <pattern>
                    <groupId>org.apache.geronimo.configs</groupId>
                    <artifactId>system-database</artifactId>
                    <version>${version}</version>
                    <name>SystemDatasource</name>
                </pattern>
            </resource-ref>
            <resource-ref>
                <ref-name>entity/references/Resource_manager_access</ref-name>
                <pattern>
                    <groupId>org.apache.geronimo.configs</groupId>
                    <artifactId>system-database</artifactId>
                    <version>${version}</version>
                    <name>SystemDatasource</name>
                </pattern>
            </resource-ref>
        </entity>
        <entity>
            <ejb-name>EncBmpBean</ejb-name>
            <jndi-name>client/tests/entity/bmp/EncBean</jndi-name>
            <resource-ref>
                <ref-name>datasource</ref-name>
                <pattern>
                    <groupId>org.apache.geronimo.configs</groupId>
                    <artifactId>system-database</artifactId>
                    <version>${version}</version>
                    <name>SystemDatasource</name>
                </pattern>
            </resource-ref>
            <resource-ref>
                <ref-name>jdbc/basic/entityDatabase</ref-name>
                <pattern>
                    <groupId>org.apache.geronimo.configs</groupId>
                    <artifactId>system-database</artifactId>
                    <version>${version}</version>
                    <name>SystemDatasource</name>
                </pattern>
            </resource-ref>
        </entity>
        <entity>
            <ejb-name>BmpRMIIIOPBean</ejb-name>
            <jndi-name>client/tests/entity/bmp/RMI-over-IIOP/EJBHome</jndi-name>
        </entity>
        <entity>
            <ejb-name>BasicCmp2Bean</ejb-name>
            <jndi-name>client/tests/entity/cmp2/BasicCmpHome</jndi-name>
            <table-name>entity</table-name>
            <cmp-field-mapping>
                <cmp-field-name>id</cmp-field-name>
                <table-column>id</table-column>
            </cmp-field-mapping>
            <cmp-field-mapping>
                <cmp-field-name>firstName</cmp-field-name>
                <table-column>first_name</table-column>
            </cmp-field-mapping>
            <cmp-field-mapping>
                <cmp-field-name>lastName</cmp-field-name>
                <table-column>last_name</table-column>
            </cmp-field-mapping>
            <key-generator>
                <auto-increment-table>
                    <sql>INSERT INTO entity (first_name) VALUES ('AUTO_GENERATED')</sql>
                    <return-type>java.lang.Integer</return-type>
                </auto-increment-table>
            </key-generator>
            <resource-ref>
                <ref-name>jdbc/basic/entityDatabase</ref-name>
                <pattern>
                    <groupId>org.apache.geronimo.configs</groupId>
                    <artifactId>system-database</artifactId>
                    <version>${version}</version>
                    <name>SystemDatasource</name>
                </pattern>
            </resource-ref>
        </entity>
        <entity>
            <ejb-name>AOBasicCmp2Bean</ejb-name>
            <jndi-name>client/tests/entity/cmp2/allowed_operations/EntityHome</jndi-name>
            <table-name>entity</table-name>
            <cmp-field-mapping>
                <cmp-field-name>id</cmp-field-name>
                <table-column>id</table-column>
            </cmp-field-mapping>
            <cmp-field-mapping>
                <cmp-field-name>firstName</cmp-field-name>
                <table-column>first_name</table-column>
            </cmp-field-mapping>
            <cmp-field-mapping>
                <cmp-field-name>lastName</cmp-field-name>
                <table-column>last_name</table-column>
            </cmp-field-mapping>
            <key-generator>
                <auto-increment-table>
                    <sql>INSERT INTO entity (first_name) VALUES ('AUTO_GENERATED')</sql>
                    <return-type>java.lang.Integer</return-type>
                </auto-increment-table>
            </key-generator>
            <resource-ref>
                <ref-name>jdbc/basic/entityDatabase</ref-name>
                <pattern>
                    <groupId>org.apache.geronimo.configs</groupId>
                    <artifactId>system-database</artifactId>
                    <version>${version}</version>
                    <name>SystemDatasource</name>
                </pattern>
            </resource-ref>
            <resource-ref>
                <ref-name>entity/references/Resource_manager_access</ref-name>
                <pattern>
                    <groupId>org.apache.geronimo.configs</groupId>
                    <artifactId>system-database</artifactId>
                    <version>${version}</version>
                    <name>SystemDatasource</name>
                </pattern>
            </resource-ref>
        </entity>
        <entity>
            <ejb-name>EncCmp2Bean</ejb-name>
            <jndi-name>client/tests/entity/cmp2/EncBean</jndi-name>
            <table-name>entity</table-name>
            <cmp-field-mapping>
                <cmp-field-name>id</cmp-field-name>
                <table-column>id</table-column>
            </cmp-field-mapping>
            <cmp-field-mapping>
                <cmp-field-name>firstName</cmp-field-name>
                <table-column>first_name</table-column>
            </cmp-field-mapping>
            <cmp-field-mapping>
                <cmp-field-name>lastName</cmp-field-name>
                <table-column>last_name</table-column>
            </cmp-field-mapping>
            <key-generator>
                <auto-increment-table>
                    <sql>INSERT INTO entity (first_name) VALUES ('AUTO_GENERATED')</sql>
                    <return-type>java.lang.Integer</return-type>
                </auto-increment-table>
            </key-generator>
            <resource-ref>
                <ref-name>jdbc/basic/entityDatabase</ref-name>
                <pattern>
                    <groupId>org.apache.geronimo.configs</groupId>
                    <artifactId>system-database</artifactId>
                    <version>${version}</version>
                    <name>SystemDatasource</name>
                </pattern>
            </resource-ref>
            <resource-ref>
                <ref-name>datasource</ref-name>
                <pattern>
                    <groupId>org.apache.geronimo.configs</groupId>
                    <artifactId>system-database</artifactId>
                    <version>${version}</version>
                    <name>SystemDatasource</name>
                </pattern>
            </resource-ref>
            <query>
                <query-method>
                    <method-name>findEmptyCollection</method-name>
                    <method-params/>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(o) FROM EncCmp2 AS o WHERE 1 = 0]]>
                </ejb-ql>
            </query>
        </entity>
        <entity>
            <ejb-name>Cmp2RMIIIOPBean</ejb-name>
            <jndi-name>client/tests/entity/cmp2/RMI-over-IIOP/EJBHome</jndi-name>
            <table-name>entity</table-name>
            <cmp-field-mapping>
                <cmp-field-name>id</cmp-field-name>
                <table-column>id</table-column>
            </cmp-field-mapping>
            <cmp-field-mapping>
                <cmp-field-name>firstName</cmp-field-name>
                <table-column>first_name</table-column>
            </cmp-field-mapping>
            <cmp-field-mapping>
                <cmp-field-name>lastName</cmp-field-name>
                <table-column>last_name</table-column>
            </cmp-field-mapping>
            <key-generator>
                <auto-increment-table>
                    <sql>INSERT INTO entity (first_name) VALUES ('AUTO_GENERATED')</sql>
                    <return-type>java.lang.Integer</return-type>
                </auto-increment-table>
            </key-generator>
            <query>
                <query-method>
                    <method-name>findEmptyCollection</method-name>
                    <method-params/>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(o) FROM Cmp2RmiIiop AS o WHERE 1 = 0]]>
                </ejb-ql>
            </query>
        </entity>
        <entity>
            <ejb-name>BasicCmpBean</ejb-name>
            <jndi-name>client/tests/entity/cmp/BasicCmpHome</jndi-name>
            <table-name>entity</table-name>
            <cmp-field-mapping>
                <cmp-field-name>id</cmp-field-name>
                <table-column>id</table-column>
            </cmp-field-mapping>
            <cmp-field-mapping>
                <cmp-field-name>firstName</cmp-field-name>
                <table-column>first_name</table-column>
            </cmp-field-mapping>
            <cmp-field-mapping>
                <cmp-field-name>lastName</cmp-field-name>
                <table-column>last_name</table-column>
            </cmp-field-mapping>
            <key-generator>
                <auto-increment-table>
                    <sql>INSERT INTO entity (first_name) VALUES ('AUTO_GENERATED')</sql>
                    <return-type>java.lang.Integer</return-type>
                </auto-increment-table>
            </key-generator>
            <resource-ref>
                <ref-name>jdbc/basic/entityDatabase</ref-name>
                <pattern>
                    <groupId>org.apache.geronimo.configs</groupId>
                    <artifactId>system-database</artifactId>
                    <version>${version}</version>
                    <name>SystemDatasource</name>
                </pattern>
            </resource-ref>
            <query>
                <query-method>
                    <method-name>findByLastName</method-name>
                    <method-params>
                        <method-param>java.lang.String</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(o) FROM BasicCmpBean AS o WHERE o.lastName = ?1]]>
                </ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findEmptyCollection</method-name>
                    <method-params/>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(o) FROM BasicCmpBean AS o WHERE 1 = 0]]>
                </ejb-ql>
            </query>
        </entity>
        <entity>
            <ejb-name>BasicCmpBeanExplicitPK</ejb-name>
            <table-name>entity_explicit_pk</table-name>
            <cmp-field-mapping>
                <cmp-field-name>id</cmp-field-name>
                <table-column>id</table-column>
            </cmp-field-mapping>
            <cmp-field-mapping>
                <cmp-field-name>firstName</cmp-field-name>
                <table-column>first_name</table-column>
            </cmp-field-mapping>
            <cmp-field-mapping>
                <cmp-field-name>lastName</cmp-field-name>
                <table-column>last_name</table-column>
            </cmp-field-mapping>
            <query>
                <query-method>
                    <method-name>findEmptyCollection</method-name>
                    <method-params/>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(o) FROM BasicCmpBeanExplicitPK AS o WHERE 1 = 0]]>
                </ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findByPrimaryKey</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(o) FROM BasicCmpBeanExplicitPK AS o]]>
                </ejb-ql>
                <no-cache-flush/>
            </query>
            <query>
                <query-method>
                    <method-name>findByLastName</method-name>
                    <method-params>
                        <method-param>java.lang.String</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(o) FROM BasicCmpBeanExplicitPK AS o WHERE o.lastName = ?1]]>
                </ejb-ql>
            </query>
        </entity>
        <entity>
            <ejb-name>AOBasicCmpBean</ejb-name>
            <jndi-name>client/tests/entity/cmp/allowed_operations/EntityHome</jndi-name>
            <table-name>entity</table-name>
            <cmp-field-mapping>
                <cmp-field-name>id</cmp-field-name>
                <table-column>id</table-column>
            </cmp-field-mapping>
            <cmp-field-mapping>
                <cmp-field-name>firstName</cmp-field-name>
                <table-column>first_name</table-column>
            </cmp-field-mapping>
            <cmp-field-mapping>
                <cmp-field-name>lastName</cmp-field-name>
                <table-column>last_name</table-column>
            </cmp-field-mapping>
            <key-generator>
                <auto-increment-table>
                    <sql>INSERT INTO entity (first_name) VALUES ('AUTO_GENERATED')</sql>
                    <return-type>java.lang.Integer</return-type>
                </auto-increment-table>
            </key-generator>
            <resource-ref>
                <ref-name>jdbc/basic/entityDatabase</ref-name>
                <pattern>
                    <groupId>org.apache.geronimo.configs</groupId>
                    <artifactId>system-database</artifactId>
                    <version>${version}</version>
                    <name>SystemDatasource</name>
                </pattern>
            </resource-ref>
            <resource-ref>
                <ref-name>entity/references/Resource_manager_access</ref-name>
                <pattern>
                    <groupId>org.apache.geronimo.configs</groupId>
                    <artifactId>system-database</artifactId>
                    <version>${version}</version>
                    <name>SystemDatasource</name>
                </pattern>
            </resource-ref>
            <query>
                <query-method>
                    <method-name>findByLastName</method-name>
                    <method-params>
                        <method-param>java.lang.String</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(o) FROM AOBasicCmpBean AS o WHERE o.lastName = ?1]]>
                </ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findEmptyCollection</method-name>
                    <method-params/>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(o) FROM AOBasicCmpBean AS o WHERE 1 = 0]]>
                </ejb-ql>
            </query>
        </entity>
        <entity>
            <ejb-name>EncCmpBean</ejb-name>
            <jndi-name>client/tests/entity/cmp/EncBean</jndi-name>
            <table-name>entity</table-name>
            <cmp-field-mapping>
                <cmp-field-name>id</cmp-field-name>
                <table-column>id</table-column>
            </cmp-field-mapping>
            <cmp-field-mapping>
                <cmp-field-name>firstName</cmp-field-name>
                <table-column>first_name</table-column>
            </cmp-field-mapping>
            <cmp-field-mapping>
                <cmp-field-name>lastName</cmp-field-name>
                <table-column>last_name</table-column>
            </cmp-field-mapping>
            <key-generator>
                <auto-increment-table>
                    <sql>INSERT INTO entity (first_name) VALUES ('AUTO_GENERATED')</sql>
                    <return-type>java.lang.Integer</return-type>
                </auto-increment-table>
            </key-generator>
            <resource-ref>
                <ref-name>jdbc/basic/entityDatabase</ref-name>
                <pattern>
                    <groupId>org.apache.geronimo.configs</groupId>
                    <artifactId>system-database</artifactId>
                    <version>${version}</version>
                    <name>SystemDatasource</name>
                </pattern>
            </resource-ref>
            <resource-ref>
                <ref-name>datasource</ref-name>
                <pattern>
                    <groupId>org.apache.geronimo.configs</groupId>
                    <artifactId>system-database</artifactId>
                    <version>${version}</version>
                    <name>SystemDatasource</name>
                </pattern>
            </resource-ref>
             <query>
                <query-method>
                    <method-name>findEmptyCollection</method-name>
                    <method-params/>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(o) FROM EncCmpBean AS o WHERE 1 = 0]]>
                </ejb-ql>
            </query>
        </entity>
        <entity>
            <ejb-name>CmpRMIIIOPBean</ejb-name>
            <jndi-name>client/tests/entity/cmp/RMI-over-IIOP/EJBHome</jndi-name>
            <table-name>entity</table-name>
            <cmp-field-mapping>
                <cmp-field-name>id</cmp-field-name>
                <table-column>id</table-column>
            </cmp-field-mapping>
            <cmp-field-mapping>
                <cmp-field-name>firstName</cmp-field-name>
                <table-column>first_name</table-column>
            </cmp-field-mapping>
            <cmp-field-mapping>
                <cmp-field-name>lastName</cmp-field-name>
                <table-column>last_name</table-column>
            </cmp-field-mapping>
            <key-generator>
                <auto-increment-table>
                    <sql>INSERT INTO entity (first_name) VALUES ('AUTO_GENERATED')</sql>
                    <return-type>java.lang.Integer</return-type>
                </auto-increment-table>
            </key-generator>
            <query>
                <query-method>
                    <method-name>findEmptyCollection</method-name>
                    <method-params/>
                </query-method>
                <ejb-ql>
                    <![CDATA[SELECT OBJECT(o) FROM CmpRMIIIOPBean AS o WHERE 1 = 0]]>
                </ejb-ql>
            </query>
        </entity>
        <entity>
            <ejb-name>OneOwningSideBean</ejb-name>
            <table-name>OneOwning</table-name>
            <cmp-field-mapping>
                <cmp-field-name>id</cmp-field-name>
                <table-column>col_id</table-column>
            </cmp-field-mapping>
            <cmp-field-mapping>
                <cmp-field-name>field1</cmp-field-name>
                <table-column>col_field1</table-column>
            </cmp-field-mapping>
        </entity>
        <entity>
            <ejb-name>OneInverseSideBean</ejb-name>
            <table-name>OneInverse</table-name>
            <cmp-field-mapping>
                <cmp-field-name>id</cmp-field-name>
                <table-column>col_id</table-column>
            </cmp-field-mapping>
        </entity>
        <entity>
            <ejb-name>ManyOwningSideBean</ejb-name>
            <table-name>ManyOwning</table-name>
            <cmp-field-mapping>
                <cmp-field-name>id</cmp-field-name>
                <table-column>col_id</table-column>
            </cmp-field-mapping>
            <cmp-field-mapping>
                <cmp-field-name>field1</cmp-field-name>
                <table-column>col_field1</table-column>
            </cmp-field-mapping>
        </entity>

        <entity>
            <ejb-name>AddressEJB</ejb-name>
            <jndi-name>client/tests/cmp2/petstore/Address</jndi-name>
            <table-name>address</table-name>
            <cmp-field-mapping>
                <cmp-field-name>id</cmp-field-name>
                <cmp-field-class>java.lang.Integer</cmp-field-class>
                <table-column>id</table-column>
            </cmp-field-mapping>
            <cmp-field-mapping>
                <cmp-field-name>street</cmp-field-name>
                <table-column>street</table-column>
            </cmp-field-mapping>
            <cmp-field-mapping>
                <cmp-field-name>city</cmp-field-name>
                <table-column>city</table-column>
            </cmp-field-mapping>
            <primkey-field>id</primkey-field>
            <!--<key-generator xmlns="http://openejb.apache.org/xml/ns/pkgen-2.1">-->
                <!--<auto-increment-table>-->
                    <!--<sql>insert into sequence_table (dummy) values (1)</sql>-->
                    <!--<return-type>java.lang.Integer</return-type>-->
                <!--</auto-increment-table>-->
            <!--</key-generator>-->
        </entity>

        <entity>
            <ejb-name>StorageBean</ejb-name>
            <jndi-name>cmp2/Storage</jndi-name>
            <table-name>storage</table-name>
            <cmp-field-mapping>
                <cmp-field-name>id</cmp-field-name>
                <table-column>id</table-column>
            </cmp-field-mapping>
            <cmp-field-mapping>
                <cmp-field-name>blob</cmp-field-name>
                <table-column>blob_column</table-column>
            </cmp-field-mapping>
            <cmp-field-mapping>
                <cmp-field-name>char</cmp-field-name>
                <table-column>char_column</table-column>
                <sql-type>CHAR</sql-type>
            </cmp-field-mapping>
            <resource-ref>
                <ref-name>jdbc/DefaultDatabase</ref-name>
                <pattern>
                    <groupId>org.apache.geronimo.configs</groupId>
                    <artifactId>system-database</artifactId>
                    <version>${version}</version>
                    <name>SystemDatasource</name>
                </pattern>
            </resource-ref>
        </entity>

        <session>
            <ejb-name>CMRMappingFacadeBean</ejb-name>
            <jndi-name>cmp2/CMRMappingFacade</jndi-name>
        </session>

    </enterprise-beans>

    <relationships>
        <ejb-relation>
            <ejb-relationship-role>
                <relationship-role-source>
                    <ejb-name>OneInverseSideBean</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>oneOwningSide</cmr-field-name>
                </cmr-field>
                <role-mapping>
                    <cmr-field-mapping>
                        <key-column>col_id</key-column>
                        <foreign-key-column>col_field1</foreign-key-column>
                    </cmr-field-mapping>
                </role-mapping>
            </ejb-relationship-role>
        </ejb-relation>
        <ejb-relation>
            <ejb-relationship-role>
                <relationship-role-source>
                    <ejb-name>OneInverseSideBean</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>manyOwningSide</cmr-field-name>
                </cmr-field>
                <role-mapping>
                    <cmr-field-mapping>
                        <key-column>col_id</key-column>
                        <foreign-key-column>col_field1</foreign-key-column>
                    </cmr-field-mapping>
                </role-mapping>
            </ejb-relationship-role>
        </ejb-relation>
    </relationships>

    <gbean name="ORBConfigAdapter" class="org.apache.openejb.yoko.ORBConfigAdapterGBean"/>

</openejb-jar>
